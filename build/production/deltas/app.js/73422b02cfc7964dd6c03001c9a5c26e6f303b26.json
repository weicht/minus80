["/*bcaf1b07b66d2522366bc675185fec96f11a7383",42,230574,230952,205,"<div class=\"infotitle\">Minus 80 Monitoring</div> \t\t\t\t \t\t<div class=\"copy\">Copyright &copy; 2012. All Rights Reserved.</div> \t\t\t\t    \t<BR>Web",231227,85,"Sales: <a href=\"mailto:sales@minus80monitoring.com\">sales@",231276,36,"Support",231313,87,"\t\t<BR>General: <a href=\"mailto:info@minus80monitoring.com\">info",231369,40,"<BR><div class=\"buildinfo\">Build Date: 31 Oct 2012 3:45pm EST</div",231456,115,"style:\"text-align: left;",231054,40,"tpl:new Ext.XTemplate('<tpl for=\"items\">','<div class=\"title\">{text}</div>','<tpl if=\"alarm_state &gt; 0 && alarm_confirmed != null && alarm_confirmed != 0\">','<div class=\"metadata\">Confirmed By: {confirmed_by}</div>',\"</tpl>\",'<tpl for=\"items\">','<div class=\"metadata\">{formatted_value}</div>',\"</tpl>\",\"<HR>\",\"</tpl>\"),",389662,35,231968,290,232363,37,"Ext.Ajax.request({url:\"/user/validate_login.php\",params:a,method:\"GET\",success:function(b,e){var f=b.responseText;var d=Ext.decode(b.responseText);if(d.success==true){var c",232259,34,"c.data.length>0){c.each(function(g){c.remove(g)})}else{c.create()}c",232401,48,"c.sync();Ext.Msg.confirm(\"Settings\",\"Credentials validated. Reload data?\",function(g){if(g==\"yes\"){minus80.app.fireEvent(\"loginSuccess\",a)}})}else{Ext.Msg.alert(\"Settings\",\"User credentials failed to validate\")}},failure:function(b,c){Ext.Msg.alert(\"ERROR\",\"Failed to validate with the server\")}})",389662,35,"Mai",200950,32,232128,35,"},init:function(){minus80.app.on({loginSuccess:this.onLoginSuccess,scope:this})},onLoginSuccess:function(a){minus80.app.settings=a;location.reload()}});Ext.define(\"Ext.plugin.PullRefresh",208962,33,"plugin.pullrefresh\",requires:[\"Ext.DateExtras\"],config:{list:null,pullRefreshText:\"Pull down to refresh...\",releaseRefreshText:\"Release to refresh...\",loadingText:\"Loading...\",snappingAnimationDuration:150,refreshFn:null,pullTpl:['<div class=\"x-list-pullrefresh\">','<div class=\"x-list-pullrefresh-arrow\"></div>','<div class=\"x-loading-spinner\">','<span class=\"x-loading-top\"></span>','<span class=\"x-loading-right\"></span>','<span class=\"x-loading-bottom\"></span>','<span class=\"x-loading-left\"></span>',\"</div>\",'<div class=\"x-list-pullrefresh-wrap\">','<h3 class=\"x-list-pullrefresh-message\">{message}</h3>','<div class=\"x-list-pullrefresh-updated\">Last Updated: <span>{lastUpdated:date(\"m/d/Y h:iA\")}</span></div>',\"</div>\",\"</div>\"].join(\"\")},isRefreshing:false,currentViewState:\"\"",401263,39,");this.on({painted:\"onPainted\",scope:this})},init:function(f){var d=this,b=f.getStore(),e=d.getPullTpl(),c=d.element,a=f.getScrollable().getScroller();d.setList(f);d.lastUpdated=new Date();f.insert(0,d);if(b){if(b.isAutoLoading()){f.setLoadingText(null)}else{b.on({load:{single:true,fn:function(){f.setLoadingText(null)}}})}}e.overwrite(c,{message:d.getPullRefreshText(),lastUpdated:d.lastUpdated},true);d.loadingElement=c.getFirstChild();d.messageEl=c.down(\".x-list-pullrefresh-message\");d.updatedEl=c.down(\".x-list-pullrefresh-updated > span\");d.maxScroller=a.getMaxPosition();a.on({maxpositionchange:d.setMaxScroller,scroll:d.onScrollChange,scope:d})},fetchLatest:function(){var b=this.getList().getStore(),c=b.getProxy(),a",360748,35,"{page:1,start:0,model:b.getModel(),limit:b.getPageSize(),action:\"read\",filters:b.getRemoteFilter()?b.getFilters():[]});c.read(a,this.onLatestFetched,this)},onLatestFetched:function(d){var j=this.getList().getStore(),b=j.getData(),c=d.getRecords(),a=c.length,g=[],h,f,e;for(e=0;e<a;e++){h=c[e];f=b.getByKey(h.getId());if(f){f.set(h.getData())}else{g.push(h)}f=undefined}j.insert(0,g)},onPainted:function(){this.pullHeight=this.loadingElement.getHeight()},setMaxScroller:function(b,a){this.maxScroller=a},onScrollChange:function(b,a,c){if(c<0){this.onBounceTop(c)}if(c>this.maxScroller.y){this.onBounceBottom(c)}},applyPull",324610,80,"BounceTop:function(d){var b=this,c=b.getList(),a=c.getScrollable().getScroller();if(!b.isReleased){if(!b.isRefreshing&&-d>=b.pullHeight+10){b.isRefreshing=true;b.setViewState(\"release\");a.getContainer().onBefore({dragend:\"onScrollerDragEnd\",single:true,scope:b})}else{if(b.isRefreshing&&-d<b.pullHeight+10){b.isRefreshing=false;b.setViewState(\"pull\")}}}},onScrollerDragEnd:function(){var b=this;if(b.isRefreshing){var c=b.getList(),a=c.getScrollable().getScroller();a.minPosition.y=-b.pullHeight;a.on({scrollend:\"loadStore\",single:true,scope:b});b.isReleased=true}},loadStore:function(){var b=this,c=b.getList(),a=c.getScrollable().getScroller();b.setViewState(\"loading\");b.isReleased=false;Ext.defer(function(){a.on({scrollend:function(){if(b.getRefreshFn()){b.getRefreshFn().call(b,b)}else{b.fetchLatest()}b.resetRefreshState()},delay:100,single:true,scope:b});a.minPosition.y=0;a.scrollTo(null,0,true)},500,b)},onBounceBottom:Ext.emptyFn,setViewState:function(d){var b=this,c=Ext.baseCSSPrefix,e=b.messageEl,a=b.loadingElement;if(d===b.currentViewState){return b}b.currentViewState=d;if(e&&a){switch(d){case\"pull\":e.setHtml(b.getPullRefreshText());a.removeCls([c+\"list-pullrefresh-release\",c+\"list-pullrefresh-loading\"]);break;case\"release\":e.setHtml(b.getReleaseRefreshText());a.addCls(c+\"list-pullrefresh-release\");break;case\"loading\":e.setHtml(b.getLoadingText());a.addCls(c+\"list-pullrefresh-loading\");break}}return b},resetRefreshState:function(){var a=this;a.isRefreshing=false;a.lastUpdated=new Date();a.setViewState(\"pull\");a.updatedEl.setHtml(Ext.util.Format.date(a.lastUpdated,\"m/d/Y h:iA\")",232546,53760,"id:\"mainTab\"",286305,48,286374,38,",",286412,47,",",286459,14659,231056,82,301162,221,",labelWidth:100",301383,71,",labelWidth:100",301454,31084,341206,26212,"idProperty:\"id\",",367867,41,"unit_id\",type:\"string\"},{name:\"alarm_state\",type:\"string\"},{name:\"alarm_confirmed\",type:\"string\"},{name:\"confirmed_by",367884,144,367579,288,"idProperty:\"id\",",367867,41,"facility_",367882,14581,398025,4129,"if(this.getAt(0).data.username==\"username\"&&this.getAt(0).data.password==\"password\"){Ext.Msg.alert(\"Settings\",\"Update your Settings so we may load your data.\")}}}",382447,63,"requires:[\"minus80.model.Alarms\",\"minus80.store.Settings\"]",382509,60,"proxy:{type:\"ajax\",url:\"/user/get_alarms.php\",extraParams:{username:\"junk\",password:\"junk\"",382638,75,"beforeload:function(){this.getProxy().setExtraParams",232196,39,".data)},",389596,34,382747,167,",\"Ext.plugin.PullRefresh",382913,41,231056,46,382991,65,"itemTpl:new Ext.XTemplate('<div class=\"title\">{text}</div>','<tpl if=\"alarm_state &gt; 0 && alarm_confirmed != null && alarm_confirmed != 0\">','<div class=\"metadata\">Confirmed By: {confirmed_by}</div>',\"</tpl>\",'<tpl for=\"items\">','<div class=\"metadata\">{formatted_value}</div>',\"</tpl>\"),plugins:[{xclass:\"Ext.plugin.PullRefresh\",pullRefreshText:\"Pull down to refresh...\",refreshFn:function(b){var a=b.up().getStore();a.load(function(){Ext.getCmp(\"mainTab\").getTabBar().getComponent(1).setBadgeText(this.getTotalCount())})}}],}]",389662,35,383166,109,"List:\"#alarms-list\",},control:{",232125,39,"Ext.getStore(\"alarmsStore\").load(function(){Ext.getCmp(\"mainTab\").getTabBar().getComponent(1).setBadgeText(this.getTotalCount())})},",389273,59,389336,43,",\"minus80.store.Setting",389377,71,"proxy:{type:\"ajax\",url:\"/user/get_facilities.php\",extraParams:{username:\"junk\",password:\"junk\"",382638,75,"beforeload:function(){this.getProxy().setExtraParams",232196,39,".data)},",389596,90,397363,95,397464,32,",\"Ext.plugin.PullRefresh",397495,61,"styleHtmlContent",382977,34,397590,57,"itemTpl:'<div class=\"title\">{text}</div",397839,47,"Units</div>',plugins:[{xclass:\"Ext.plugin.PullRefresh\",pullRefreshText:\"Pull down to refresh...\",refreshFn:function(b){var a=b.up().getStore();a.load(function(){})}}],}]",389662,244,"itemtap:\"onItemTap",232123,41,"var a=this.getFacilitiesList();Ext.getStore(\"facilitiesStore\").load(function(){if(this.getTotalCount()==1){a.fireEvent(\"itemtap\",a,0,null,this.getAt(0))}})},onItemTap:function(e,d,f,b,a,c){this.getFacilitie",383481,40,"b.data.text,data:b.data,})},",402157,687,"var Minus80App=",402844,60,402979,51,"Settings\"],views:[\"Main\",",402987,32,",\"Info\",\"UnitDetail",403060,48,",\"Main",403107,772]